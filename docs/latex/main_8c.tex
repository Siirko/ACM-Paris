\hypertarget{main_8c}{}\doxysection{src/main.c File Reference}
\label{main_8c}\index{src/main.c@{src/main.c}}
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$tps.\+h$>$}\newline
{\ttfamily \#include \char`\"{}../include/args\+\_\+parser.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}../include/array\+\_\+list.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}../include/csv\+\_\+parser.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}../include/bin\+\_\+builder.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}../include/data\+\_\+t.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}../include/graph.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}../include/delaunay.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}../include/cprintf.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}../include/handler.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}../include/visualise.\+h\char`\"{}}\newline
Include dependency graph for main.\+c\+:
% FIG 0
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{main_8c_ae7532a3c30ec76b8e50d0d9e68d8e14b}{free\+\_\+list\+\_\+n}} (\mbox{\hyperlink{array__list_8h_a15376354e4e8b4f1732e9df17f30786c}{list\+\_\+t}} $\ast$data\+\_\+list)
\item 
\mbox{\hyperlink{array__list_8h_a15376354e4e8b4f1732e9df17f30786c}{list\+\_\+t}} $\ast$ \mbox{\hyperlink{main_8c_a6ccfc9abfbbbef99e2a1503fe2c88392}{initiate\+\_\+data\+\_\+list}} ()
\item 
void \mbox{\hyperlink{main_8c_aa28454c147729012ff03bf73799b320b}{initiate\+\_\+args}} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\item 
int \mbox{\hyperlink{main_8c_a0ddf1224851353fc92bfbff6f499fa97}{main}} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structarguments}{arguments}} \mbox{\hyperlink{main_8c_a447f3f435c99d0de69f283dd8ec7b3c7}{arguments}}
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{main_8c_ae7532a3c30ec76b8e50d0d9e68d8e14b}\label{main_8c_ae7532a3c30ec76b8e50d0d9e68d8e14b}} 
\index{main.c@{main.c}!free\_list\_n@{free\_list\_n}}
\index{free\_list\_n@{free\_list\_n}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{free\_list\_n()}{free\_list\_n()}}
{\footnotesize\ttfamily void free\+\_\+list\+\_\+n (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{array__list_8h_a15376354e4e8b4f1732e9df17f30786c}{list\+\_\+t}} $\ast$}]{data\+\_\+list }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{18                                    \{}
\DoxyCodeLine{19     \textcolor{keywordtype}{size\_t} longueur = \mbox{\hyperlink{array__list_8c_acce7930e73bd35107fb0a7ecb4ab9f41}{list\_size}}(data\_list);}
\DoxyCodeLine{20     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t} i = 0; i < longueur; i++)\{}
\DoxyCodeLine{21         \mbox{\hyperlink{structdata}{data\_t}}* a = \mbox{\hyperlink{array__list_8c_a3c70d4a93440bd89840f1619f37c1a16}{list\_take}}(data\_list,\mbox{\hyperlink{array__list_8c_acce7930e73bd35107fb0a7ecb4ab9f41}{list\_size}}(data\_list)-\/1);}
\DoxyCodeLine{22         free(a);}
\DoxyCodeLine{23     \}}
\DoxyCodeLine{24     \mbox{\hyperlink{array__list_8c_a6ef4cba021252bced096de8f4a26f11e}{list\_free}}(data\_list);}
\DoxyCodeLine{25 \}}

\end{DoxyCode}
\mbox{\Hypertarget{main_8c_aa28454c147729012ff03bf73799b320b}\label{main_8c_aa28454c147729012ff03bf73799b320b}} 
\index{main.c@{main.c}!initiate\_args@{initiate\_args}}
\index{initiate\_args@{initiate\_args}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{initiate\_args()}{initiate\_args()}}
{\footnotesize\ttfamily void initiate\+\_\+args (\begin{DoxyParamCaption}\item[{int}]{argc,  }\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]} }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{51                                           \{}
\DoxyCodeLine{52     \mbox{\hyperlink{structarguments}{arguments}}.\mbox{\hyperlink{structarguments_ab967f3c192207878cfe15464aeafb551}{output\_file}} = \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{53     \mbox{\hyperlink{structarguments}{arguments}}.\mbox{\hyperlink{structarguments_a45c981d468345f765fd7243c8f008e1e}{input\_file}} = \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{54     \mbox{\hyperlink{structarguments}{arguments}}.\mbox{\hyperlink{structarguments_ae359aed4736371f85a490201c9e1a4a4}{delimiter}} = \textcolor{stringliteral}{"{};"{}}; \textcolor{comment}{// default delimiter}}
\DoxyCodeLine{55     \mbox{\hyperlink{structarguments}{arguments}}.\mbox{\hyperlink{structarguments_afe749c4a761220c03579c16f8a9e2de6}{load\_delaunay}} = \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{56     \mbox{\hyperlink{structarguments}{arguments}}.\mbox{\hyperlink{structarguments_a804f08a45b9f4c682f0c084c0c6d61f5}{save\_delaunay}} = \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{57     \mbox{\hyperlink{structarguments}{arguments}}.\mbox{\hyperlink{structarguments_a778713be967b143220118a0ea8d1650c}{save\_mst}} = \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{58     \mbox{\hyperlink{structarguments}{arguments}}.\mbox{\hyperlink{structarguments_ac1433866fbdc7fbf8f5a03f75aa63e21}{debug}} = \textcolor{keyword}{false};}
\DoxyCodeLine{59     \mbox{\hyperlink{structarguments}{arguments}}.\mbox{\hyperlink{structarguments_aff9fc4e6fa126601d0856c77fd3d9f44}{visualise}} = \textcolor{keyword}{false};}
\DoxyCodeLine{60     \mbox{\hyperlink{structarguments}{arguments}}.\mbox{\hyperlink{structarguments_af04f9842c9a135fb7bc375323c9893d2}{height}} = 900;}
\DoxyCodeLine{61     \mbox{\hyperlink{structarguments}{arguments}}.\mbox{\hyperlink{structarguments_a992aeb684da83851e3362a0bcffc6b48}{width}} = 1400;}
\DoxyCodeLine{62     argp\_parse(\&\mbox{\hyperlink{args__parser_8h_ab70c96531b1b652d70c221cfaf3207f3}{argp}}, argc, argv, 0, 0, \&\mbox{\hyperlink{structarguments}{arguments}});}
\DoxyCodeLine{63     \textcolor{keywordflow}{if}(!strcmp(\mbox{\hyperlink{structarguments}{arguments}}.\mbox{\hyperlink{structarguments_ab967f3c192207878cfe15464aeafb551}{output\_file}},\textcolor{stringliteral}{"{}"{}}) || !strcmp(\mbox{\hyperlink{structarguments}{arguments}}.\mbox{\hyperlink{structarguments_a45c981d468345f765fd7243c8f008e1e}{input\_file}},\textcolor{stringliteral}{"{}"{}}))\{}
\DoxyCodeLine{64         printf(\textcolor{stringliteral}{"{}Please give input and output file. (use -\/h for help)\(\backslash\)n"{}});}
\DoxyCodeLine{65         exit(1);}
\DoxyCodeLine{66     \}}
\DoxyCodeLine{67     \mbox{\hyperlink{cprintf_8c_abea63a461ba805d7c6c2facc133188c9}{\_debug}} = \mbox{\hyperlink{structarguments}{arguments}}.\mbox{\hyperlink{structarguments_ac1433866fbdc7fbf8f5a03f75aa63e21}{debug}};}
\DoxyCodeLine{68 \}}

\end{DoxyCode}
\mbox{\Hypertarget{main_8c_a6ccfc9abfbbbef99e2a1503fe2c88392}\label{main_8c_a6ccfc9abfbbbef99e2a1503fe2c88392}} 
\index{main.c@{main.c}!initiate\_data\_list@{initiate\_data\_list}}
\index{initiate\_data\_list@{initiate\_data\_list}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{initiate\_data\_list()}{initiate\_data\_list()}}
{\footnotesize\ttfamily \mbox{\hyperlink{array__list_8h_a15376354e4e8b4f1732e9df17f30786c}{list\+\_\+t}}$\ast$ initiate\+\_\+data\+\_\+list (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{27                             \{}
\DoxyCodeLine{28     \textcolor{comment}{// Open CSV file}}
\DoxyCodeLine{29     FILE* fp = fopen(\mbox{\hyperlink{structarguments}{arguments}}.\mbox{\hyperlink{structarguments_a45c981d468345f765fd7243c8f008e1e}{input\_file}}, \textcolor{stringliteral}{"{}r"{}});}
\DoxyCodeLine{30     \textcolor{keywordflow}{if}(fp == NULL)\{}
\DoxyCodeLine{31         perror(\textcolor{stringliteral}{"{}Error while opening csv file"{}});}
\DoxyCodeLine{32         exit(1);}
\DoxyCodeLine{33     \}}
\DoxyCodeLine{34     \textcolor{comment}{// Build bin file based on fp}}
\DoxyCodeLine{35     \textcolor{keywordtype}{int} result = \mbox{\hyperlink{bin__builder_8c_a9740c6a3456e81349f44221bf6f1a099}{build\_csv\_bin}}(fp, \mbox{\hyperlink{structarguments}{arguments}}.\mbox{\hyperlink{structarguments_ab967f3c192207878cfe15464aeafb551}{output\_file}}, \mbox{\hyperlink{structarguments}{arguments}}.\mbox{\hyperlink{structarguments_ae359aed4736371f85a490201c9e1a4a4}{delimiter}}[0]);}
\DoxyCodeLine{36     \textcolor{keywordflow}{if}(result == EXIT\_FAILURE)\{ fclose(fp); exit(1); \}}
\DoxyCodeLine{37     \textcolor{comment}{// Open bin file to read it}}
\DoxyCodeLine{38     FILE* fp\_bin = fopen(\mbox{\hyperlink{structarguments}{arguments}}.\mbox{\hyperlink{structarguments_ab967f3c192207878cfe15464aeafb551}{output\_file}}, \textcolor{stringliteral}{"{}rb"{}});}
\DoxyCodeLine{39     \textcolor{keywordflow}{if}(fp\_bin == NULL)\{}
\DoxyCodeLine{40         perror(\textcolor{stringliteral}{"{}Error while opening bin file"{}});}
\DoxyCodeLine{41         exit(1);}
\DoxyCodeLine{42     \}}
\DoxyCodeLine{43     \textcolor{comment}{// Get data from bin file}}
\DoxyCodeLine{44     \mbox{\hyperlink{structlist}{list\_t}}* data\_list = \mbox{\hyperlink{bin__builder_8c_a72af491dba4bd97700b63f8dc347d767}{get\_data\_csv\_bin}}(fp\_bin);}
\DoxyCodeLine{45     \textcolor{comment}{// Close files}}
\DoxyCodeLine{46     fclose(fp\_bin);}
\DoxyCodeLine{47     fclose(fp);}
\DoxyCodeLine{48     \textcolor{keywordflow}{return} data\_list;}
\DoxyCodeLine{49 \}}

\end{DoxyCode}
\mbox{\Hypertarget{main_8c_a0ddf1224851353fc92bfbff6f499fa97}\label{main_8c_a0ddf1224851353fc92bfbff6f499fa97}} 
\index{main.c@{main.c}!main@{main}}
\index{main@{main}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily int main (\begin{DoxyParamCaption}\item[{int}]{argc,  }\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]} }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{70                                 \{}
\DoxyCodeLine{71     \textcolor{comment}{// Initiate handler}}
\DoxyCodeLine{72     \mbox{\hyperlink{handler_8c_ad99ab0a563ccd6737b387bb9cbf9f7f7}{initiate\_handler}}();}
\DoxyCodeLine{73     \textcolor{comment}{// Initiate arguments}}
\DoxyCodeLine{74     \mbox{\hyperlink{main_8c_aa28454c147729012ff03bf73799b320b}{initiate\_args}}(argc, argv);}
\DoxyCodeLine{75     \textcolor{comment}{// Initiate data\_list}}
\DoxyCodeLine{76     \mbox{\hyperlink{structlist}{list\_t}}* data\_list = \mbox{\hyperlink{main_8c_a6ccfc9abfbbbef99e2a1503fe2c88392}{initiate\_data\_list}}();}
\DoxyCodeLine{77     \textcolor{comment}{// Initiate delaunay triangles}}
\DoxyCodeLine{78     \mbox{\hyperlink{structdelaunay__t}{delaunay\_t}}* delaunay = \mbox{\hyperlink{delaunay_8c_a1f841020f9afe681e1da108d8ba64f2b}{initiate\_delaunay}}(data\_list, \mbox{\hyperlink{structarguments}{arguments}}.\mbox{\hyperlink{structarguments_a804f08a45b9f4c682f0c084c0c6d61f5}{save\_delaunay}}, \mbox{\hyperlink{structarguments}{arguments}}.\mbox{\hyperlink{structarguments_afe749c4a761220c03579c16f8a9e2de6}{load\_delaunay}});   }
\DoxyCodeLine{79     \textcolor{comment}{// Create graph from delaunay triangles}}
\DoxyCodeLine{80     \mbox{\hyperlink{graph_8c_a06ec69c2b47db07faa909db8c00f7ea6}{set\_distn}}(\mbox{\hyperlink{graph_8h_ac50d7263b1cae8691420b86282b27f90a763478b91472a6c1d5d1d53112e8ca1e}{HAVESINE}});}
\DoxyCodeLine{81     \mbox{\hyperlink{structgraph}{graph\_t}}* g = \mbox{\hyperlink{graph_8c_af1bc5a277d35d4a188aa8c0048386ce6}{create\_graph}}(delaunay-\/>\mbox{\hyperlink{structdelaunay__t_aac01f61eeef3acab289bd3ec77ca024c}{size\_vertices}});}
\DoxyCodeLine{82     \textcolor{comment}{// Convert delaunay triangles to graph}}
\DoxyCodeLine{83     \mbox{\hyperlink{graph_8c_a2ef18b306398b7ce35951aabd2e3196d}{delaunay\_to\_graph}}(delaunay, g);}
\DoxyCodeLine{84     \textcolor{comment}{// Get minimum spanning tree using Prim algorithm}}
\DoxyCodeLine{85     \textcolor{keywordtype}{int}* mst = \mbox{\hyperlink{graph_8c_ab418fda8982066ccf8ea077b232a3d82}{prim\_mst}}(g, \mbox{\hyperlink{structarguments}{arguments}}.\mbox{\hyperlink{structarguments_a778713be967b143220118a0ea8d1650c}{save\_mst}});}
\DoxyCodeLine{86     \textcolor{comment}{// If visualise is true, visualize Prim and Delaunay result}}
\DoxyCodeLine{87     \mbox{\hyperlink{structarguments}{arguments}}.\mbox{\hyperlink{structarguments_aff9fc4e6fa126601d0856c77fd3d9f44}{visualise}} ? \mbox{\hyperlink{visualise_8c_a890bdba9b42a4f92d4bbc85a6f851ef2}{visualize}}(\mbox{\hyperlink{structarguments}{arguments}}.\mbox{\hyperlink{structarguments_a992aeb684da83851e3362a0bcffc6b48}{width}}, \mbox{\hyperlink{structarguments}{arguments}}.\mbox{\hyperlink{structarguments_af04f9842c9a135fb7bc375323c9893d2}{height}}, data\_list, mst, delaunay, g) : 0;}
\DoxyCodeLine{88     \textcolor{comment}{// Free memory}}
\DoxyCodeLine{89     \mbox{\hyperlink{graph_8c_aefeb6b70291521fab711ae3350bab00c}{free\_graph}}(g);}
\DoxyCodeLine{90     free(mst);}
\DoxyCodeLine{91     \mbox{\hyperlink{delaunay_8c_a1590c87c98d9c614a369d1aa5dc92e62}{free\_delaunay}}(delaunay);}
\DoxyCodeLine{92     \mbox{\hyperlink{main_8c_ae7532a3c30ec76b8e50d0d9e68d8e14b}{free\_list\_n}}(data\_list);}
\DoxyCodeLine{93     \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{94 \}}

\end{DoxyCode}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{main_8c_a447f3f435c99d0de69f283dd8ec7b3c7}\label{main_8c_a447f3f435c99d0de69f283dd8ec7b3c7}} 
\index{main.c@{main.c}!arguments@{arguments}}
\index{arguments@{arguments}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{arguments}{arguments}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structarguments}{arguments}} \mbox{\hyperlink{structarguments}{arguments}}}

